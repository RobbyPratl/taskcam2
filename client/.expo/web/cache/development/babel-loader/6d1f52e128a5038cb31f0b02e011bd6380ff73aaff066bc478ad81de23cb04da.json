{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport BASEAPIURL from \"../vars\";\nimport { useSelector } from \"react-redux\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AddTaskModal = function AddTaskModal(_ref) {\n  var visible = _ref.visible,\n    onClose = _ref.onClose,\n    onAddTask = _ref.onAddTask;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    description = _useState4[0],\n    setDescription = _useState4[1];\n  var authToken = useSelector(function (state) {\n    return state.authToken;\n  });\n  var handleAddTask = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (title.trim() === \"\") {\n        return;\n      }\n      var newTask = {\n        title: title,\n        description: description\n      };\n      try {\n        var response = yield fetch(BASEAPIURL + \"/tasks\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: authToken\n          },\n          body: JSON.stringify(newTask)\n        });\n        if (response.ok) {\n          onAddTask(newTask);\n          setTitle(\"\");\n          setDescription(\"\");\n          onClose();\n        } else {\n          console.error(\"Failed to add task:\", response.status);\n        }\n      } catch (error) {\n        console.error(\"An error occurred:\", error);\n      }\n    });\n    return function handleAddTask() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(Modal, {\n    visible: visible,\n    animationType: \"slide\",\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Add Task\"\n      }), _jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Title\",\n        value: title,\n        onChangeText: setTitle\n      }), _jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Description\",\n        value: description,\n        onChangeText: setDescription\n      }), _jsx(TouchableOpacity, {\n        style: styles.addButton,\n        onPress: handleAddTask,\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"Add Task\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.cancelButton,\n        onPress: onClose,\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"Cancel\"\n        })\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 20\n  },\n  input: {\n    width: \"100%\",\n    height: 40,\n    borderWidth: 1,\n    borderColor: \"gray\",\n    marginBottom: 20,\n    paddingHorizontal: 10\n  },\n  addButton: {\n    backgroundColor: \"blue\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 5,\n    marginBottom: 10\n  },\n  cancelButton: {\n    backgroundColor: \"red\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 5\n  },\n  buttonText: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  }\n});\nexport default AddTaskModal;","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","StyleSheet","Modal","BASEAPIURL","useSelector","jsx","_jsx","jsxs","_jsxs","AddTaskModal","_ref","visible","onClose","onAddTask","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","description","setDescription","authToken","state","handleAddTask","_ref2","_asyncToGenerator","trim","newTask","response","fetch","method","headers","Authorization","body","JSON","stringify","ok","console","error","status","apply","arguments","animationType","children","style","styles","container","input","placeholder","value","onChangeText","addButton","onPress","buttonText","cancelButton","create","flex","justifyContent","alignItems","padding","fontSize","fontWeight","marginBottom","width","height","borderWidth","borderColor","paddingHorizontal","backgroundColor","paddingVertical","borderRadius","color","textAlign"],"sources":["/Users/robertpratl/taskcam-summer-project/client/screens/AddTaskModal.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n  Modal,\n} from \"react-native\";\nimport BASEAPIURL from \"../vars\";\nimport { useSelector } from \"react-redux\";\n\nconst AddTaskModal = ({ visible, onClose, onAddTask }) => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const authToken = useSelector((state) => state.authToken);\n  const handleAddTask = async () => {\n    // Validate the task data\n    if (title.trim() === \"\") {\n      // Display an error message or handle invalid input\n      return;\n    }\n\n    // Create a new task object\n    const newTask = {\n      title,\n      description,\n    };\n\n    try {\n      // Send a POST request to the backend API to add the task\n      const response = await fetch(`${BASEAPIURL}/tasks`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: authToken,\n        },\n        body: JSON.stringify(newTask),\n      });\n\n      if (response.ok) {\n        // Task added successfully\n        // Call the callback function to add the task locally\n        onAddTask(newTask);\n\n        // Clear the input fields\n        setTitle(\"\");\n        setDescription(\"\");\n\n        // Close the modal\n        onClose();\n      } else {\n        console.error(\"Failed to add task:\", response.status);\n      }\n    } catch (error) {\n      console.error(\"An error occurred:\", error);\n    }\n  };\n\n  return (\n    <Modal visible={visible} animationType=\"slide\">\n      <View style={styles.container}>\n        <Text style={styles.title}>Add Task</Text>\n        <TextInput\n          style={styles.input}\n          placeholder=\"Title\"\n          value={title}\n          onChangeText={setTitle}\n        />\n        <TextInput\n          style={styles.input}\n          placeholder=\"Description\"\n          value={description}\n          onChangeText={setDescription}\n        />\n        <TouchableOpacity style={styles.addButton} onPress={handleAddTask}>\n          <Text style={styles.buttonText}>Add Task</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.cancelButton} onPress={onClose}>\n          <Text style={styles.buttonText}>Cancel</Text>\n        </TouchableOpacity>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 20,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 20,\n  },\n  input: {\n    width: \"100%\",\n    height: 40,\n    borderWidth: 1,\n    borderColor: \"gray\",\n    marginBottom: 20,\n    paddingHorizontal: 10,\n  },\n  addButton: {\n    backgroundColor: \"blue\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 5,\n    marginBottom: 10,\n  },\n  cancelButton: {\n    backgroundColor: \"red\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 5,\n  },\n  buttonText: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n  },\n});\n\nexport default AddTaskModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}