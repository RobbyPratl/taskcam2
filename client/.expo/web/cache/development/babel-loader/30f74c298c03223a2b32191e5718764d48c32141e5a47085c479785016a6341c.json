{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport BASEAPIURL from \"../vars\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar History = function History() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    history = _useState2[0],\n    setHistory = _useState2[1];\n  useEffect(function () {\n    fetchHistory();\n  }, []);\n  var fetchHistory = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch(BASEAPIURL + \"/history\", {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        if (response.ok) {\n          var historyData = yield response.json();\n          setHistory(historyData);\n        } else {\n          console.error(\"Failed to fetch history data\");\n        }\n      } catch (error) {\n        console.error(\"An error occurred while fetching history data:\", error);\n      }\n    });\n    return function fetchHistory() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(View, {\n      style: styles.item,\n      children: [_jsx(Text, {\n        children: item.date\n      }), _jsx(Text, {\n        children: item.completionRate\n      })]\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"History\"\n    }), history.length > 0 ? _jsx(FlatList, {\n      data: history,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.date;\n      }\n    }) : _jsx(Text, {\n      children: \"No history data available\"\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 20\n  },\n  item: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderBottomWidth: 1,\n    borderBottomColor: \"gray\",\n    width: \"100%\"\n  }\n});\nexport default History;","map":{"version":3,"names":["React","useState","useEffect","View","Text","FlatList","StyleSheet","BASEAPIURL","jsx","_jsx","jsxs","_jsxs","History","_useState","_useState2","_slicedToArray","history","setHistory","fetchHistory","_ref","_asyncToGenerator","response","fetch","method","headers","ok","historyData","json","console","error","apply","arguments","renderItem","_ref2","item","style","styles","children","date","completionRate","container","title","length","data","keyExtractor","create","flex","justifyContent","alignItems","padding","fontSize","fontWeight","marginBottom","flexDirection","paddingHorizontal","paddingVertical","borderBottomWidth","borderBottomColor","width"],"sources":["/Users/robertpratl/taskcam-summer-project/client/screens/History.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { View, Text, FlatList, StyleSheet } from \"react-native\";\nimport BASEAPIURL from \"../vars\";\n\nconst History = () => {\n  const [history, setHistory] = useState([]);\n\n  useEffect(() => {\n    // Fetch history data from the API\n    fetchHistory();\n  }, []);\n\n  const fetchHistory = async () => {\n    try {\n      const response = await fetch(`${BASEAPIURL}/history`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (response.ok) {\n        const historyData = await response.json();\n        setHistory(historyData);\n      } else {\n        console.error(\"Failed to fetch history data\");\n      }\n    } catch (error) {\n      console.error(\"An error occurred while fetching history data:\", error);\n    }\n  };\n\n  const renderItem = ({ item }) => (\n    <View style={styles.item}>\n      <Text>{item.date}</Text>\n      <Text>{item.completionRate}</Text>\n    </View>\n  );\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>History</Text>\n      {history.length > 0 ? (\n        <FlatList\n          data={history}\n          renderItem={renderItem}\n          keyExtractor={(item) => item.date}\n        />\n      ) : (\n        <Text>No history data available</Text>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 20,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 20,\n  },\n  item: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderBottomWidth: 1,\n    borderBottomColor: \"gray\",\n    width: \"100%\",\n  },\n});\n\nexport default History;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}