{"ast":null,"code":"import axios from \"axios\";\nimport { BASEAPIURL } from \"../vars\";\nexport var LOGIN_USER_REQUEST = \"LOGIN_USER_REQUEST\";\nexport var LOGIN_USER_SUCCESS = \"LOGIN_USER_SUCCESS\";\nexport var LOGIN_USER_FAILURE = \"LOGIN_USER_FAILURE\";\nexport var loginUserRequest = function loginUserRequest() {\n  return {\n    type: LOGIN_USER_REQUEST\n  };\n};\nexport var loginUserSuccess = function loginUserSuccess(user) {\n  return {\n    type: LOGIN_USER_SUCCESS,\n    payload: user\n  };\n};\nexport var loginUserFailure = function loginUserFailure(error) {\n  return {\n    type: LOGIN_USER_FAILURE,\n    payload: error\n  };\n};\nexport var loginUser = function loginUser(credentials) {\n  return function (dispatch) {\n    dispatch(loginUserRequest());\n    axios.post(BASEAPIURL + \"/login\", credentials).then(function (response) {\n      var _response$data = response.data,\n        user = _response$data.user,\n        token = _response$data.token;\n      localStorage.setItem(\"token\", token);\n      dispatch(loginUserSuccess(user));\n    }).catch(function (error) {\n      dispatch(loginUserFailure(error.message));\n    });\n  };\n};","map":{"version":3,"names":["axios","BASEAPIURL","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAILURE","loginUserRequest","type","loginUserSuccess","user","payload","loginUserFailure","error","loginUser","credentials","dispatch","post","then","response","_response$data","data","token","localStorage","setItem","catch","message"],"sources":["/Users/robertpratl/taskcam-summer-project/client/actions/authActions.js"],"sourcesContent":["import axios from \"axios\";\nimport { BASEAPIURL } from \"../vars\";\n\n// Action Types\nexport const LOGIN_USER_REQUEST = \"LOGIN_USER_REQUEST\";\nexport const LOGIN_USER_SUCCESS = \"LOGIN_USER_SUCCESS\";\nexport const LOGIN_USER_FAILURE = \"LOGIN_USER_FAILURE\";\n\n// Action Creators\nexport const loginUserRequest = () => ({\n  type: LOGIN_USER_REQUEST,\n});\n\nexport const loginUserSuccess = (user) => ({\n  type: LOGIN_USER_SUCCESS,\n  payload: user,\n});\n\nexport const loginUserFailure = (error) => ({\n  type: LOGIN_USER_FAILURE,\n  payload: error,\n});\n\n// Async Action Creator\nexport const loginUser = (credentials) => {\n  return (dispatch) => {\n    dispatch(loginUserRequest());\n\n    axios\n      .post(`${BASEAPIURL}/login`, credentials) // Adjust the API endpoint if needed\n      .then((response) => {\n        const { user, token } = response.data;\n        // Save the token in localStorage or secure storage if desired\n        localStorage.setItem(\"token\", token);\n        dispatch(loginUserSuccess(user));\n      })\n      .catch((error) => {\n        dispatch(loginUserFailure(error.message));\n      });\n  };\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU;AAGnB,OAAO,IAAMC,kBAAkB,GAAG,oBAAoB;AACtD,OAAO,IAAMC,kBAAkB,GAAG,oBAAoB;AACtD,OAAO,IAAMC,kBAAkB,GAAG,oBAAoB;AAGtD,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA;EAAA,OAAU;IACrCC,IAAI,EAAEJ;EACR,CAAC;AAAA,CAAC;AAEF,OAAO,IAAMK,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,IAAI;EAAA,OAAM;IACzCF,IAAI,EAAEH,kBAAkB;IACxBM,OAAO,EAAED;EACX,CAAC;AAAA,CAAC;AAEF,OAAO,IAAME,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,KAAK;EAAA,OAAM;IAC1CL,IAAI,EAAEF,kBAAkB;IACxBK,OAAO,EAAEE;EACX,CAAC;AAAA,CAAC;AAGF,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAIC,WAAW,EAAK;EACxC,OAAO,UAACC,QAAQ,EAAK;IACnBA,QAAQ,CAACT,gBAAgB,CAAC,CAAC,CAAC;IAE5BL,KAAK,CACFe,IAAI,CAAId,UAAU,aAAUY,WAAW,CAAC,CACxCG,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClB,IAAAC,cAAA,GAAwBD,QAAQ,CAACE,IAAI;QAA7BX,IAAI,GAAAU,cAAA,CAAJV,IAAI;QAAEY,KAAK,GAAAF,cAAA,CAALE,KAAK;MAEnBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;MACpCN,QAAQ,CAACP,gBAAgB,CAACC,IAAI,CAAC,CAAC;IAClC,CAAC,CAAC,CACDe,KAAK,CAAC,UAACZ,KAAK,EAAK;MAChBG,QAAQ,CAACJ,gBAAgB,CAACC,KAAK,CAACa,OAAO,CAAC,CAAC;IAC3C,CAAC,CAAC;EACN,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}